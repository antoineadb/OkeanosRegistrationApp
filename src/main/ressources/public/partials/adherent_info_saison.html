<div class="row">
    <div class="col-md-12">
        <form ng-submit="save()" class="form-horizontal">
            <h2 class="page-header">Fiche adhérent pour la saison en cours : {{currentSaison.label}}</h2>


            <div class="form-group">
                <label for="selectLevel" class="col-sm-3 control-label">Type de licence</label>
                <div class="col-sm-9">
                    <select id="selectLevel" class="form-control" ng-model="adherentInfoSaison.licenceType">
                          <option ng-repeat="licence in licenceList"  value="{{licence.id}}">{{licence.label}} ({{licence.price}}€)</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label for="optionsAdhesion1" class="col-sm-3 control-label">Type d'adhésion : </label>
                <div class="col-sm-9">
                    <div class="radio-inline" ng-repeat="subscriptionType in subscriptionTypeList">
                        <label>
                            <input type="radio" name="optionSubscriptionType"
                                   ng-model="adherentInfoSaison.subscriptionType" value="{{subscriptionType.id}}">
                            {{subscriptionType.label}}
                        </label>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label for="optionsAdhesion1" class="col-sm-3 control-label">Mon adhésion : </label>
                <div class="col-sm-9">
                    <div class="radio-inline" ng-repeat="subscription in subscriptionList">
                        <label>
                            <input type="radio" ng-model="adherentInfoSaison.subscription" value="{{subscription.id}}">
                            {{subscription.label}} ({{subscription.price}}€)
                        </label>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label">Assurance : </label>
                <div class="col-sm-9">
                    <div class="checkbox" ng-show="adherentInfoSaison.membershipType !== 'hockey'">
                        <label>
                            <input type="checkbox" ng-model="adherentInfoSaison.assurance"> piscine
                        </label>
                    </div>

                    <div ng-show="adherentInfoSaison.membershipType === 'hockey'">
                        <label>
                            obligatoire
                        </label>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label">Droit à l'image : </label>
                <div class="col-sm-9">
                    <div class="checkbox">
                        <label>
                            <input type="checkbox" ng-model="adherentInfoSaison.picture_authorisation"> J'autorise le club à utilise des photos de moi à des fin de communication.
                        </label>
                    </div>
                </div>
            </div>

            <h4 class="page-header">Section plongée</h4>

            <div class="form-group">
                <label for="selectLevel" class="col-sm-3 control-label">Niveau actuel : </label>
                <div class="col-sm-9">
                    <select id="selectLevel" class="form-control" ng-model="adherentInfoSaison.actualLevel">
                        <option>Aucun</option>
                        <option ng-repeat="actualLevel in divingTrainingList"  value="{{actualLevel.id}}">{{actualLevel.label}}</option>
                    </select></div>
            </div>

            <div class="form-group">
                <label for="selectLevel" class="col-sm-3 control-label">Niveau Préparé : </label>
                <div class="col-sm-9">
                    <select id="selectLevel" class="form-control" ng-model="adherentInfoSaison.preparedLevel">
                        <option>Aucun</option>
                        <option ng-repeat="preparedLevel in divingTrainingList"  value="{{preparedLevel.id}}">{{preparedLevel.label}}</option>
                    </select></div>
            </div>

            <h4 class="page-header">Section hockey</h4>

            <div class="form-group">
                <label for="selectTeam" class="col-sm-3 control-label">Equipe : </label>
                <div class="col-sm-9">
                    <select id="selectTeam" class="form-control" ng-model="adherentInfoSaison.team">
                        <option>Aucune</option>
                        <option ng-repeat="team in hockeyTeamList"  value="{{team.id}}">{{team.label}}</option>
                </select>
                </div>
            </div>

            <div class="form-group">
                <div class="col-sm-offset-3 col-sm-9">
                    <button type="submit" class="btn btn-primary">Tout mettre à jour</button>
                </div>
            </div>

            <div class="alert alert-info" role="info" ng-show="updateState=='wip'">
                <button type="button" class="close" data-dismiss="info" aria-label="Close"><span aria-hidden="true">&times;</span>
                </button> Mis à jour en cours ...
            </div>

            <div class="alert alert-success" role="success" ng-show="updateState=='done'">
                <button type="button" class="close" data-dismiss="success" aria-label="Close"><span aria-hidden="true">&times;</span>
                </button> Adhérent mis à jour !
            </div>

        </form>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
        <h2 class="page-header">Debug</h2>
        <pre>updateState = {{updateState | json}}</pre>
        <pre>adherentInfoSaison = {{adherentInfoSaison | json}}</pre>
    </div>
</div>
